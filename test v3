-- SCRIPT DE TEST COMPLET - 1508API Enhanced
-- Teste toutes les fonctionnalitÃ©s avec effets visuels

-- Charger l'API (remplacez par votre chemin)
local API1508 = loadstring(game:HttpGet("https://raw.githubusercontent.com/hcq804/1508API/refs/heads/main/APIv2%20.lua"))()

-- Variables de test
local testResults = {}
local notifications = {}

-- Fonction de notification simple
local function notify(message, color)
    print("ğŸ”” " .. message)
    table.insert(notifications, {msg = message, color = color or Color3.new(1,1,1), time = tick()})
end

-- CrÃ©er la fenÃªtre principale
local Window = API1508:CreateWindow({
    Title = "ğŸš€ 1508API Enhanced Test Suite",
    Subtitle = "Test complet de toutes les fonctionnalitÃ©s",
    ConfigurationSaving = true,
    FileName = "TestConfig"
})

notify("âœ… FenÃªtre crÃ©Ã©e avec succÃ¨s!", Color3.fromRGB(0, 255, 100))

-- TAB 1: Tests Basiques
local BasicTab = Window:CreateTab({
    Name = "Basiques",
    Icon = "ğŸ”§"
})

-- Test Button
BasicTab:CreateButton({
    Text = "ğŸ¯ Test Button avec Glow",
    Callback = function()
        notify("ğŸ¯ Button cliquÃ© - Test rÃ©ussi!", Color3.fromRGB(0, 255, 100))
        testResults.button = true
    end
})

-- Test Toggle
local testToggle = BasicTab:CreateToggle({
    Text = "âš¡ Toggle avec Animation",
    Default = false,
    Callback = function(value)
        notify("âš¡ Toggle: " .. tostring(value), value and Color3.fromRGB(0, 255, 100) or Color3.fromRGB(255, 100, 0))
        testResults.toggle = value
    end
})

-- Test Slider
local testSlider = BasicTab:CreateSlider({
    Text = "ğŸšï¸ Slider AnimÃ©",
    Min = 0,
    Max = 100,
    Default = 50,
    Increment = 1,
    Callback = function(value)
        notify("ğŸšï¸ Slider: " .. value, Color3.fromRGB(0, 150, 255))
        testResults.slider = value
    end
})

-- Test Textbox
BasicTab:CreateTextbox({
    Text = "Entrez votre test...",
    Default = "Hello World!",
    Callback = function(text)
        notify("ğŸ“ Textbox: " .. text, Color3.fromRGB(255, 255, 0))
        testResults.textbox = text
    end
})

-- Test Label
local testLabel = BasicTab:CreateLabel({
    Text = "ğŸ“Š Label Dynamique - En attente..."
})

-- TAB 2: Tests AvancÃ©s
local AdvancedTab = Window:CreateTab({
    Name = "AvancÃ©s",
    Icon = "âš™ï¸"
})

-- Test de stress avec multiples Ã©lÃ©ments
for i = 1, 5 do
    AdvancedTab:CreateButton({
        Text = "ğŸ”¥ Stress Test #" .. i,
        Callback = function()
            notify("ğŸ”¥ Stress Button " .. i .. " activÃ©!", Color3.fromRGB(255, 50 + i*30, 0))
        end
    })
end

-- Slider de vitesse d'animation
AdvancedTab:CreateSlider({
    Text = "âš¡ Vitesse Animation",
    Min = 0.1,
    Max = 2,
    Default = 1,
    Increment = 0.1,
    Callback = function(value)
        notify("âš¡ Vitesse: " .. value .. "x", Color3.fromRGB(100, 255, 100))
        -- Ici on pourrait modifier la vitesse des animations
    end
})

-- Toggle de mode debug
AdvancedTab:CreateToggle({
    Text = "ğŸ› Mode Debug",
    Default = true,
    Callback = function(value)
        if value then
            notify("ğŸ› Mode Debug ACTIVÃ‰", Color3.fromRGB(255, 255, 0))
            testLabel:Set("ğŸ“Š Debug: ON - Tests en cours...")
        else
            notify("ğŸ› Mode Debug DÃ‰SACTIVÃ‰", Color3.fromRGB(150, 150, 150))
            testLabel:Set("ğŸ“Š Debug: OFF")
        end
    end
})

-- TAB 3: Tests Visuels
local VisualTab = Window:CreateTab({
    Name = "Visuels",
    Icon = "ğŸ¨"
})

-- Test des couleurs
local colors = {
    {name = "ğŸ”´ Rouge", color = Color3.fromRGB(255, 50, 50)},
    {name = "ğŸŸ¢ Vert", color = Color3.fromRGB(50, 255, 50)},
    {name = "ğŸ”µ Bleu", color = Color3.fromRGB(50, 50, 255)},
    {name = "ğŸŸ¡ Jaune", color = Color3.fromRGB(255, 255, 50)},
    {name = "ğŸŸ£ Violet", color = Color3.fromRGB(255, 50, 255)}
}

for _, colorData in ipairs(colors) do
    VisualTab:CreateButton({
        Text = colorData.name .. " Glow Test",
        Callback = function()
            notify("ğŸ¨ Test couleur: " .. colorData.name, colorData.color)
        end
    })
end

-- Slider d'intensitÃ© des effets
VisualTab:CreateSlider({
    Text = "âœ¨ IntensitÃ© Glow",
    Min = 0,
    Max = 1,
    Default = 0.8,
    Increment = 0.1,
    Callback = function(value)
        notify("âœ¨ IntensitÃ© Glow: " .. math.floor(value * 100) .. "%", Color3.fromRGB(200, 200, 255))
    end
})

-- TAB 4: Tests Performance
local PerfTab = Window:CreateTab({
    Name = "Performance",
    Icon = "ğŸ“ˆ"
})

-- Test de performance
local perfCounter = 0
PerfTab:CreateButton({
    Text = "ğŸš€ Test Performance (Clic Rapide)",
    Callback = function()
        perfCounter = perfCounter + 1
        notify("ğŸš€ Perf Test #" .. perfCounter .. " - " .. tick(), Color3.fromRGB(0, 255, 255))
        if perfCounter >= 10 then
            notify("ğŸ† Test Performance RÃ‰USSI! 10+ clics", Color3.fromRGB(255, 215, 0))
        end
    end
})

-- Compteur FPS simulÃ©
local fpsLabel = PerfTab:CreateLabel({
    Text = "ğŸ“Š FPS: Calcul en cours..."
})

-- Slider de charge CPU simulÃ©e
PerfTab:CreateSlider({
    Text = "âš¡ Charge CPU SimulÃ©e",
    Min = 0,
    Max = 100,
    Default = 25,
    Increment = 5,
    Callback = function(value)
        notify("âš¡ Charge CPU: " .. value .. "%", 
            value > 80 and Color3.fromRGB(255, 100, 100) or 
            value > 50 and Color3.fromRGB(255, 255, 100) or 
            Color3.fromRGB(100, 255, 100))
        fpsLabel:Set("ğŸ“Š FPS: " .. math.floor(60 - (value * 0.3)) .. " (Charge: " .. value .. "%)")
    end
})

-- Test mÃ©moire
local memoryToggle = PerfTab:CreateToggle({
    Text = "ğŸ§  Surveillance MÃ©moire",
    Default = false,
    Callback = function(value)
        if value then
            notify("ğŸ§  Surveillance mÃ©moire ACTIVÃ‰E", Color3.fromRGB(100, 200, 255))
        else
            notify("ğŸ§  Surveillance mÃ©moire DÃ‰SACTIVÃ‰E", Color3.fromRGB(150, 150, 150))
        end
    end
})

-- TAB 5: Tests AutomatisÃ©s
local AutoTab = Window:CreateTab({
    Name = "Auto Tests",
    Icon = "ğŸ¤–"
})

-- Test automatique de tous les Ã©lÃ©ments
AutoTab:CreateButton({
    Text = "ğŸ¤– Lancer Tests Automatiques",
    Callback = function()
        notify("ğŸ¤– DÃ©marrage des tests automatiques...", Color3.fromRGB(255, 165, 0))
        
        -- Test sÃ©quentiel avec dÃ©lais
        spawn(function()
            wait(1)
            testToggle:Set(true)
            notify("âœ… Auto-test Toggle: ON", Color3.fromRGB(0, 255, 100))
            
            wait(1)
            testSlider:Set(75)
            notify("âœ… Auto-test Slider: 75", Color3.fromRGB(0, 255, 100))
            
            wait(1)
            testToggle:Set(false)
            notify("âœ… Auto-test Toggle: OFF", Color3.fromRGB(0, 255, 100))
            
            wait(1)
            testSlider:Set(25)
            notify("âœ… Auto-test Slider: 25", Color3.fromRGB(0, 255, 100))
            
            wait(1)
            notify("ğŸ† TOUS LES TESTS AUTOMATIQUES RÃ‰USSIS!", Color3.fromRGB(255, 215, 0))
        end)
    end
})

-- Test de stress UI
local stressActive = false
AutoTab:CreateToggle({
    Text = "ğŸ’¥ Test de Stress UI",
    Default = false,
    Callback = function(value)
        stressActive = value
        if value then
            notify("ğŸ’¥ Test de stress DÃ‰MARRÃ‰!", Color3.fromRGB(255, 100, 100))
            spawn(function()
                while stressActive do
                    for i = 1, 100, 10 do
                        if not stressActive then break end
                        testSlider:Set(i)
                        wait(0.05)
                    end
                    for i = 100, 1, -10 do
                        if not stressActive then break end
                        testSlider:Set(i)
                        wait(0.05)
                    end
                end
            end)
        else
            notify("ğŸ’¥ Test de stress ARRÃŠTÃ‰", Color3.fromRGB(100, 100, 100))
        end
    end
})

-- Textbox pour commandes personnalisÃ©es
AutoTab:CreateTextbox({
    Text = "Commande personnalisÃ©e...",
    Default = "test custom",
    Callback = function(text)
        local cmd = string.lower(text)
        if cmd == "reset" then
            notify("ğŸ”„ RESET de tous les tests", Color3.fromRGB(255, 255, 0))
            testToggle:Set(false)
            testSlider:Set(50)
            perfCounter = 0
        elseif cmd == "rainbow" then
            notify("ğŸŒˆ Mode RAINBOW activÃ©!", Color3.fromRGB(255, 100, 255))
            spawn(function()
                for i = 1, 20 do
                    local r = math.random(100, 255)
                    local g = math.random(100, 255)
                    local b = math.random(100, 255)
                    notify("ğŸŒˆ Rainbow #" .. i, Color3.fromRGB(r, g, b))
                    wait(0.2)
                end
            end)
        elseif cmd == "status" then
            notify("ğŸ“Š STATUS: " .. #testResults .. " tests effectuÃ©s", Color3.fromRGB(100, 200, 255))
        else
            notify("â“ Commande inconnue: " .. text, Color3.fromRGB(255, 150, 0))
        end
    end
})

-- Label de statut final
local statusLabel = AutoTab:CreateLabel({
    Text = "ğŸ¯ Statut: Interface chargÃ©e - PrÃªt pour les tests!"
})

-- TAB 6: RÃ©sultats & Stats
local ResultsTab = Window:CreateTab({
    Name = "RÃ©sultats",
    Icon = "ğŸ“Š"
})

-- Bouton pour afficher les rÃ©sultats
ResultsTab:CreateButton({
    Text = "ğŸ“Š Afficher RÃ©sultats Complets",
    Callback = function()
        local totalTests = 0
        local passedTests = 0
        
        for test, result in pairs(testResults) do
            totalTests = totalTests + 1
            if result then
                passedTests = passedTests + 1
            end
        end
        
        local percentage = totalTests > 0 and math.floor((passedTests / totalTests) * 100) or 0
        
        notify("ğŸ“Š RÃ‰SULTATS FINAUX:", Color3.fromRGB(255, 215, 0))
        notify("âœ… Tests rÃ©ussis: " .. passedTests .. "/" .. totalTests, Color3.fromRGB(0, 255, 100))
        notify("ğŸ“ˆ Pourcentage: " .. percentage .. "%", Color3.fromRGB(100, 200, 255))
        notify("ğŸ¯ Performance: " .. perfCounter .. " clics", Color3.fromRGB(255, 255, 100))
        
        statusLabel:Set("ğŸ† Tests terminÃ©s: " .. percentage .. "% de rÃ©ussite!")
    end
})

-- Export des rÃ©sultats
ResultsTab:CreateButton({
    Text = "ğŸ’¾ Exporter Logs",
    Callback = function()
        local logData = "=== 1508API Enhanced - Rapport de Test ===\n"
        logData = logData .. "Timestamp: " .. os.date() .. "\n"
        logData = logData .. "Notifications totales: " .. #notifications .. "\n\n"
        
        for i, notif in ipairs(notifications) do
            logData = logData .. "[" .. notif.time .. "] " .. notif.msg .. "\n"
        end
        
        -- Dans un vrai environnement, on sauvegarderait dans un fichier
        print(logData)
        notify("ğŸ’¾ Logs exportÃ©s dans la console!", Color3.fromRGB(100, 255, 200))
    end
})

-- Clear des rÃ©sultats
ResultsTab:CreateButton({
    Text = "ğŸ—‘ï¸ Vider Tous les RÃ©sultats",
    Callback = function()
        testResults = {}
        notifications = {}
        perfCounter = 0
        notify("ğŸ—‘ï¸ Tous les rÃ©sultats effacÃ©s!", Color3.fromRGB(255, 100, 100))
        statusLabel:Set("ğŸ”„ RÃ©sultats effacÃ©s - PrÃªt pour nouveaux tests")
    end
})

-- Informations systÃ¨me
ResultsTab:CreateLabel({
    Text = "ğŸ’» SystÃ¨me: Roblox Studio/Client"
})

ResultsTab:CreateLabel({
    Text = "ğŸš€ Version API: 2.1.0 Enhanced"
})

ResultsTab:CreateLabel({
    Text = "â° ChargÃ©: " .. os.date("%H:%M:%S")
})

-- Message de fin
notify("ğŸ‰ SCRIPT DE TEST ENTIÃˆREMENT CHARGÃ‰!", Color3.fromRGB(255, 215, 0))
notify("ğŸ‘‰ Explorez tous les onglets pour tester!", Color3.fromRGB(100, 255, 255))
notify("ğŸ”¥ Interface avec effets GLOW activÃ©s!", Color3.fromRGB(255, 100, 255))

-- Loop de mise Ã  jour en temps rÃ©el
spawn(function()
    while true do
        wait(5)
        if fpsLabel then
            local currentTime = os.date("%H:%M:%S")
            fpsLabel:Set("ğŸ“Š Temps: " .. currentTime .. " | Tests: " .. #testResults)
        end
    end
end)

print("ğŸš€ 1508API Enhanced Test Suite - PRÃŠT!")
print("ğŸ“ " .. #notifications .. " notifications gÃ©nÃ©rÃ©es")
print("ğŸ¯ Interface crÃ©Ã©e avec succÃ¨s - Tous les effets glow actifs!")
